import requests
from requests_toolbelt.utils import dump
import json


cities = [
"Нью-Йорк",
"Tokyo",
"Апиа",
"Веллингтон",
"Канберра",
"Маджуро",
"Нгерулмуд",
"Нукуалофа",
"Паликир",
"Порт",
"Порт",
"Сува",
"Фунафути",
"Хониара",
"Южная",
"Асунсьон",
"Бастер",
"Бельмопан",
"Богота",
"Бразилиа",
"Бриджтаун",
"Буэнос",
"Вашингтон",
"Гавана",
"Гватемала",
"Джорджтаун",
"Каракас",
"Кастри",
"Кингстаун",
"Кингстон",
"Кито",
"Лима",
"Манагуа",
"Мехико",
"Монтевидео",
"Нассау",
"Оттава",
"Панама",
"Парамарибо",
"Порт",
"Порт",
"Розо",
"Сан",
"Сан",
"Санто",
"Сантьяго",
"Сент",
"Сент",
"Сукре",
"Тегусигальпа",
"Абуджа",
"Аддис",
"Аккра",
"Алжир",
"Антананариву",
"Асмэра",
"Бамако",
"Банги",
"Банжул",
"Бисау",
"Браззавиль",
"Виктория",
"Виндхук",
"Габороне",
"Гитега",
"Дакар",
"Джибути",
"Джуба",
"Додома",
"Каир",
"Кампала",
"Кигали",
"Киншаса",
"Конакри",
"Либревиль",
"Лилонгве",
"Ломе",
"Луанда",
"Лусака",
"Малабо",
"Мапуту",
"Масеру",
"Мбабане",
"Могадишо",
"Монровия",
"Морони",
"Найроби",
"Нджамена",
"Ниамей",
"Нуакшот",
"Порт",
"Порто",
"Прая",
"Претория",
"Рабат",
"Сан",
"Триполи",
"Тунис",
"Уагадугу",
"Фритаун",
"Хараре",
"Хартум",
"Ямусукро",
"Яунде",
"Абу",
"Амман",
"Анкара",
"Ашхабад",
"Багдад",
"Баку",
"Бангкок",
"Бандар",
"Бейрут",
"Бишкек",
"Вьентьян",
"Дакка",
"Дамаск",
"Дели",
"Джакарта",
"Дили",
"Доха",
"Душанбе",
"Ереван",
"Иерусалим",
"Исламабад",
"Кабул",
"Катманду",
"Куала",
"Мале",
"Манама",
"Манила",
"Маскат",
"Нейпьидо",
"Никосия",
"Нур",
"Пекин",
"Пномпень",
"Пхеньян",
"Сана",
"Сеул",
"Сингапур",
"Ташкент",
"Тбилиси",
"Тегеран",
"Токио",
"Тхимпху",
"Улан",
"Ханой",
"Шри",
"Эль",
"Эр",
"Амстердам",
"Андорра",
"Афины",
"Белград",
"Берлин",
"Берн",
"Братислава",
"Брюссель",
"Будапешт",
"Бухарест",
"Вадуц",
"Валлетта",
"Варшава",
"Ватикан",
"Вена",
"Вильнюс",
"Дублин",
"Загреб",
"Киев",
"Кишинёв",
"Копенгаген",
"Лиссабон",
"Лондон",
"Любляна",
"Люксембург",
"Мадрид",
"Минск",
"Монако",
"Москва",
"Осло",
"Париж",
"Подгорица",
"Прага",
"Рейкьявик",
"Рига",
"Рим",
"Сан",
"Сараево",
"Скопье",
"София",
"Стокгольм",
"Таллин",
"Тирана",
"Хельсинки",
]

for city in cities:
    url = "https://suggestions.dadata.ru/suggestions/api/4_1/rs/suggest/address"
    headers = {
            "Content-Type": "application/json", 
            "Accept": "application/json", 
            "Authorization": "Token a21ae8d8246ebf44e4c99a8dd9e6786d3a56ca0a"}
    data = {
            "query": city, 
            "count":"10",
            "locations": [ { "country": "*" }]
            }
    data = json.dumps(data)
    r = requests.post(url, data=data, params=data, headers=headers)
    #print(r)
    data = dump.dump_all(r)
    #print(data.decode('utf-8'))
    #print(r.text)
    j = r.json()
    #print(j)
    #print(city, j["suggestions"][0]["data"]["geo_lon"], j["suggestions"][0]["data"]["geo_lat"])
    try:
        lon = j["suggestions"][0]["data"]["geo_lon"]
        lat = j["suggestions"][0]["data"]["geo_lat"]
        if lon is not None:
            print('"{}": ["{}", "{}"],'.format(city, lat, lon))
    except:
        #print("no ", city)
        pass # ok


